{"ast":null,"code":"export var BASE_URL=\"http://localhost:3000\";function makeRequest(url,method,body,token){var headers={\"Accept\":\"application/json\",\"Content-Type\":\"application/json\"};if(token!==undefined){headers[\"Authorization\"]=\"Bearer \".concat(token);}var config={method:method,headers:headers};if(body!==undefined){config.body=JSON.stringify(body);}return fetch(\"\".concat(BASE_URL).concat(url),config).then(function(res){if(!res.ok){return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}console.log('res=>!!!',res);return res.json();});}export var register=function register(email,password){return makeRequest(\"/signup\",\"POST\",{email:email,password:password});};export var authorize=function authorize(email,password){return makeRequest(\"/signin\",\"POST\",{email:email,password:password});};export var checkToken=function checkToken(token){return makeRequest(\"/users/me\",\"GET\",undefined,token);};","map":{"version":3,"names":["BASE_URL","makeRequest","url","method","body","token","headers","undefined","concat","config","JSON","stringify","fetch","then","res","ok","Promise","reject","status","console","log","json","register","email","password","authorize","checkToken"],"sources":["/Users/mariailina/Documents/Praktikum/react-mesto-api-full-gha/frontend/src/utils/auth.js"],"sourcesContent":["export const BASE_URL = \"http://localhost:3000\";\n\nfunction makeRequest(url, method, body, token) {\n  const headers = {\n    \"Accept\": \"application/json\",\n    \"Content-Type\": \"application/json\",\n  };\n\n  if (token !== undefined) {\n    headers[\"Authorization\"] = `Bearer ${token}`;\n  }\n\n  const config = {\n    method,\n    headers,\n  \n  };\n\n  if (body !== undefined) {\n    config.body = JSON.stringify(body);\n  }\n  return fetch(`${BASE_URL}${url}`, config)\n  .then((res) => {\n    if (!res.ok) {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n    console.log('res=>!!!', res);\n    return res.json();\n  });\n}\n\nexport const register = (email, password) => {\n  return makeRequest(\"/signup\", \"POST\", { email, password } );\n};\n\nexport const authorize = (email, password) => {\n  return makeRequest(\"/signin\", \"POST\", { email, password });\n};\n\nexport const checkToken = (token) => {\n  return makeRequest(\"/users/me\", \"GET\", undefined, token);\n};\n\n"],"mappings":"AAAA,MAAO,IAAM,CAAAA,QAAQ,CAAG,uBAAuB,CAE/C,QAAS,CAAAC,WAAWA,CAACC,GAAG,CAAEC,MAAM,CAAEC,IAAI,CAAEC,KAAK,CAAE,CAC7C,GAAM,CAAAC,OAAO,CAAG,CACd,QAAQ,CAAE,kBAAkB,CAC5B,cAAc,CAAE,kBAClB,CAAC,CAED,GAAID,KAAK,GAAKE,SAAS,CAAE,CACvBD,OAAO,CAAC,eAAe,CAAC,WAAAE,MAAA,CAAaH,KAAK,CAAE,CAC9C,CAEA,GAAM,CAAAI,MAAM,CAAG,CACbN,MAAM,CAANA,MAAM,CACNG,OAAO,CAAPA,OAEF,CAAC,CAED,GAAIF,IAAI,GAAKG,SAAS,CAAE,CACtBE,MAAM,CAACL,IAAI,CAAGM,IAAI,CAACC,SAAS,CAACP,IAAI,CAAC,CACpC,CACA,MAAO,CAAAQ,KAAK,IAAAJ,MAAA,CAAIR,QAAQ,EAAAQ,MAAA,CAAGN,GAAG,EAAIO,MAAM,CAAC,CACxCI,IAAI,CAAC,SAACC,GAAG,CAAK,CACb,GAAI,CAACA,GAAG,CAACC,EAAE,CAAE,CACX,MAAO,CAAAC,OAAO,CAACC,MAAM,0CAAAT,MAAA,CAAYM,GAAG,CAACI,MAAM,EAAG,CAChD,CACAC,OAAO,CAACC,GAAG,CAAC,UAAU,CAAEN,GAAG,CAAC,CAC5B,MAAO,CAAAA,GAAG,CAACO,IAAI,EAAE,CACnB,CAAC,CAAC,CACJ,CAEA,MAAO,IAAM,CAAAC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAIC,KAAK,CAAEC,QAAQ,CAAK,CAC3C,MAAO,CAAAvB,WAAW,CAAC,SAAS,CAAE,MAAM,CAAE,CAAEsB,KAAK,CAALA,KAAK,CAAEC,QAAQ,CAARA,QAAS,CAAC,CAAE,CAC7D,CAAC,CAED,MAAO,IAAM,CAAAC,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAIF,KAAK,CAAEC,QAAQ,CAAK,CAC5C,MAAO,CAAAvB,WAAW,CAAC,SAAS,CAAE,MAAM,CAAE,CAAEsB,KAAK,CAALA,KAAK,CAAEC,QAAQ,CAARA,QAAS,CAAC,CAAC,CAC5D,CAAC,CAED,MAAO,IAAM,CAAAE,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAIrB,KAAK,CAAK,CACnC,MAAO,CAAAJ,WAAW,CAAC,WAAW,CAAE,KAAK,CAAEM,SAAS,CAAEF,KAAK,CAAC,CAC1D,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}