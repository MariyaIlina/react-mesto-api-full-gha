{"ast":null,"code":"export const BASE_URL = \"http://localhost:3002\";\nfunction makeRequest(url, method, body, token) {\n  const headers = {\n    \"Accept\": \"application/json\",\n    \"Content-Type\": \"application/json\"\n  };\n  if (token !== undefined) {\n    headers[\"Authorization\"] = `Bearer ${token}`;\n  }\n  const config = {\n    method,\n    headers\n  };\n  if (body !== undefined) {\n    config.body = JSON.stringify(body);\n  }\n  return fetch(`${BASE_URL}${url}`, config).then(res => {\n    if (!res.ok) {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n    console.log('res=>!!!', res);\n    return res.json();\n  });\n}\nexport const register = (email, password) => {\n  return makeRequest(\"/signup\", \"POST\", {\n    email,\n    password\n  });\n};\nexport const authorize = (email, password) => {\n  return makeRequest(\"/signin\", \"POST\", {\n    email,\n    password\n  });\n};\nexport const checkToken = token => {\n  console.log(checkToken);\n  return makeRequest(\"/users/me\", \"GET\", undefined, token);\n};","map":{"version":3,"names":["BASE_URL","makeRequest","url","method","body","token","headers","undefined","config","JSON","stringify","fetch","then","res","ok","Promise","reject","status","console","log","json","register","email","password","authorize","checkToken"],"sources":["/Users/mariailina/Documents/Praktikum/react-mesto-api-full-gha/frontend/src/utils/auth.js"],"sourcesContent":["export const BASE_URL = \"http://localhost:3002\";\n\nfunction makeRequest(url, method, body, token) {\n  const headers = {\n    \"Accept\": \"application/json\",\n    \"Content-Type\": \"application/json\",\n  };\n\n  if (token !== undefined) {\n    headers[\"Authorization\"] = `Bearer ${token}`;\n  }\n\n  const config = {\n    method,\n    headers,\n  \n  };\n\n  if (body !== undefined) {\n    config.body = JSON.stringify(body);\n  }\n  return fetch(`${BASE_URL}${url}`, config)\n  .then((res) => {\n    if (!res.ok) {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n    console.log('res=>!!!', res);\n    return res.json();\n  });\n}\n\nexport const register = (email, password) => {\n  return makeRequest(\"/signup\", \"POST\", { email, password });\n};\n\nexport const authorize = (email, password) => {\n  return makeRequest(\"/signin\", \"POST\", { email, password });\n};\n\nexport const checkToken = (token) => {\n  console.log(checkToken);\n  return makeRequest(\"/users/me\", \"GET\", undefined, token);\n};\n\n"],"mappings":"AAAA,OAAO,MAAMA,QAAQ,GAAG,uBAAuB;AAE/C,SAASC,WAAWA,CAACC,GAAG,EAAEC,MAAM,EAAEC,IAAI,EAAEC,KAAK,EAAE;EAC7C,MAAMC,OAAO,GAAG;IACd,QAAQ,EAAE,kBAAkB;IAC5B,cAAc,EAAE;EAClB,CAAC;EAED,IAAID,KAAK,KAAKE,SAAS,EAAE;IACvBD,OAAO,CAAC,eAAe,CAAC,GAAI,UAASD,KAAM,EAAC;EAC9C;EAEA,MAAMG,MAAM,GAAG;IACbL,MAAM;IACNG;EAEF,CAAC;EAED,IAAIF,IAAI,KAAKG,SAAS,EAAE;IACtBC,MAAM,CAACJ,IAAI,GAAGK,IAAI,CAACC,SAAS,CAACN,IAAI,CAAC;EACpC;EACA,OAAOO,KAAK,CAAE,GAAEX,QAAS,GAAEE,GAAI,EAAC,EAAEM,MAAM,CAAC,CACxCI,IAAI,CAAEC,GAAG,IAAK;IACb,IAAI,CAACA,GAAG,CAACC,EAAE,EAAE;MACX,OAAOC,OAAO,CAACC,MAAM,CAAE,WAAUH,GAAG,CAACI,MAAO,EAAC,CAAC;IAChD;IACAC,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEN,GAAG,CAAC;IAC5B,OAAOA,GAAG,CAACO,IAAI,EAAE;EACnB,CAAC,CAAC;AACJ;AAEA,OAAO,MAAMC,QAAQ,GAAGA,CAACC,KAAK,EAAEC,QAAQ,KAAK;EAC3C,OAAOtB,WAAW,CAAC,SAAS,EAAE,MAAM,EAAE;IAAEqB,KAAK;IAAEC;EAAS,CAAC,CAAC;AAC5D,CAAC;AAED,OAAO,MAAMC,SAAS,GAAGA,CAACF,KAAK,EAAEC,QAAQ,KAAK;EAC5C,OAAOtB,WAAW,CAAC,SAAS,EAAE,MAAM,EAAE;IAAEqB,KAAK;IAAEC;EAAS,CAAC,CAAC;AAC5D,CAAC;AAED,OAAO,MAAME,UAAU,GAAIpB,KAAK,IAAK;EACnCa,OAAO,CAACC,GAAG,CAACM,UAAU,CAAC;EACvB,OAAOxB,WAAW,CAAC,WAAW,EAAE,KAAK,EAAEM,SAAS,EAAEF,KAAK,CAAC;AAC1D,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}